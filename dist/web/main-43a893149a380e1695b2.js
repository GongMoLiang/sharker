!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("React"),require("react-dom"));else if("function"==typeof define&&define.amd)define(["React","react-dom"],t);else{var a="object"==typeof exports?t(require("React"),require("react-dom")):t(e.React,e.ReactDOM);for(var n in a)("object"==typeof exports?exports:e)[n]=a[n]}}(window,(function(e,t){return function(e){function t(t){for(var n,s,o=t[0],i=t[1],c=t[2],m=0,p=[];m<o.length;m++)s=o[m],Object.prototype.hasOwnProperty.call(l,s)&&l[s]&&p.push(l[s][0]),l[s]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);for(d&&d(t);p.length;)p.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,o=1;o<a.length;o++){var i=a[o];0!==l[i]&&(n=!1)}n&&(r.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},l={0:0},r=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var o=window.webpackJsonp=window.webpackJsonp||[],i=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var d=i;return r.push([422,1]),a()}({0:function(t,a){t.exports=e},192:function(e,t){},30:function(e,a){e.exports=t},384:function(e,t){},385:function(e,t){},422:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(30),s=a.n(r),o=a(51),i=a(40);class c extends n.Component{render(){const{routers:e,children:t}=this.props;return l.a.createElement(i.d,null,_.map(e,(e,t)=>l.a.createElement(i.b,{key:t,path:e.path,exact:e.exact,component:e.component})),t||null)}}a(204);var d=a(55);const m=[{key:"1",title:"学生管理",path:"/student/manage/list"},{key:"2",title:"审批管理",path:"/approval/list"},{key:"3",title:"资料管理",path:"/material/list"}];a(425);var p=a(15),u=a(207),h=a.n(u);const{SubMenu:f,Item:E}=d.a;class b extends n.Component{render(){const{routers:e=[],menus:t=[]}=this.props,a=_.get(t,"0.key","1"),n=_.get(t,"0.sub.0.key","sub1");return l.a.createElement(p.a,{locale:h.a},l.a.createElement("aside",{className:"menu-left"},l.a.createElement(d.a,{mode:"inline",defaultSelectedKeys:[a],defaultOpenKeys:[n],style:{height:"100%",borderRight:0}},_.map(t,e=>l.a.createElement(f,{key:e.key,title:e.title,icon:e.icon},_.map(e.sub,e=>l.a.createElement(E,{key:e.key,icon:e.icon||null},l.a.createElement(o.b,{to:e.link},e.title))))))),l.a.createElement("aside",{className:"content-right"},l.a.createElement("div",{className:"container"},l.a.createElement(c,{routers:e}))))}}a(70);var g=a(31),y=(a(109),a(46)),k=(a(126),a(80));class v extends n.Component{render(){const{children:e}=this.props;return l.a.createElement("div",{className:"content"},e)}}var x=a(435);class S extends n.Component{render(){const{title:e,children:t,backUrl:a}=this.props;return l.a.createElement("div",{className:"topbar"},a&&l.a.createElement(o.b,{to:a},l.a.createElement(x.a,{className:"iocn-back"})),l.a.createElement("span",{className:"topbar-title"},e),t)}}a(427);var w=a(230),C=(a(161),a(50)),N=(a(162),a(72));function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const{Item:O}=N.a,F={labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}}};class j extends n.Component{render(){const{isShowAddStundetModal:e,onOk:t,onCancel:a,onFinsh:n,fromRef:r,isEdit:s}=this.props;return l.a.createElement(k.a,{title:s?"编辑学生信息":"新增学生信息",visible:e,onOk:t,onCancel:a},l.a.createElement(N.a,q({},F,{onFinish:n,ref:r}),l.a.createElement(O,{label:"学  号",name:"id",rules:[{required:!0,message:"请输入学号"}],key:"id"},l.a.createElement(C.a,{placeholder:"请输入学号",disabled:s})),l.a.createElement(O,{label:"班  级",rules:[{required:!0,message:"请输入班级"}],name:"grade",key:"grade"},l.a.createElement(C.a,{placeholder:"请填写班级"})),l.a.createElement(O,{label:"姓  名",rules:[{required:!0,message:"请输入姓名"}],name:"name",key:"name"},l.a.createElement(C.a,{placeholder:"请输入姓名",value:name})),l.a.createElement(O,{label:"年  龄",rules:[{required:!0,message:"请填写年龄"}],name:"age",key:"age"},l.a.createElement(w.a,{placeholder:"请输入年龄",style:{width:"100%"}})),l.a.createElement(O,{label:"家庭住址",name:"address",rules:[{required:!0,message:"请输入家庭住址"}],key:"address"},l.a.createElement(C.a,{placeholder:"请输入家庭住址"})),l.a.createElement(O,{label:"家长姓名",key:"parents",rules:[{required:!0,message:"请输入家长姓名"}],name:"parent"},l.a.createElement(C.a,{placeholder:"请输入家长姓名"})),l.a.createElement(O,{label:"联系方式",key:"phone",name:"phone",rules:[{required:!0,message:"请输入手机号码"},{pattern:/^1[3456789]\d{9}$/,message:"手机号码不符合规范，请重新输入"}],validateTrigger:"onBlur"},l.a.createElement(C.a,{placeholder:"请输入联系方式",style:{width:"100%"}}))))}}a(203);var A,M=a(146),U=(a(423),a(227)),I=(a(188),a(87)),R=(a(189),a(45)),D=a(211),T=a.n(D),z=a(145),P=a(431),B=a(441),K=a(430),$=a(438);let L=Object(z.b)(e=>e)(A=class extends n.Component{constructor(...e){super(...e),this.columns=[{title:"班级",dataIndex:"grade",key:"grade",align:"center",width:80},{title:"学号",dataIndex:"id",key:"id",align:"center",width:80},{title:"姓名",dataIndex:"name",key:"name",align:"center",width:80},{title:"年龄",dataIndex:"age",key:"age",align:"center",width:80},{title:"家庭住址",dataIndex:"address",key:"address",align:"center",width:200},{title:"家长姓名",dataIndex:"parent",key:"parent",align:"center",width:80},{title:"联系方式",dataIndex:"phone",key:"phone",align:"center",width:100},{title:"操作",dataIndex:"oprtor",key:"oprtor",align:"center",width:150,render:(e,t)=>{const{name:a,phone:n,address:r}=t,{onEdit:s}=this.props;return l.a.createElement(I.a,null,l.a.createElement(R.a,{span:4,offset:1},l.a.createElement(P.a,{title:"修改",onClick:()=>{s(t)}})),l.a.createElement(R.a,{span:4,offset:2},l.a.createElement(B.a,{title:"删除",onClick:this.handleDelteStudent})),l.a.createElement(R.a,{span:4,offset:2},l.a.createElement(T.a,{key:"copy",text:`${a} ${n} ${r}`,onCopy:()=>{y.b.success("复制成功")}},l.a.createElement(K.a,{title:"复制"}))),l.a.createElement(R.a,{span:4,offset:2},l.a.createElement($.a,{title:"查看"})))}}],this.handleDelteStudent=()=>{k.a.confirm({content:"确人删除此学生信息？",onOk:()=>{y.b.success("删除成功")}})},this.handleEditStudent=()=>{}}componentDidMount(){setTimeout(()=>{console.log(this.props),this.props.dispatch({type:"CHANGEPAGE",page:4})},1e4)}render(){const{dataSource:e,total:t,pageSize:a,current:n}=this.props;return l.a.createElement(M.a,null,l.a.createElement("div",null,n),l.a.createElement(U.a,{rowKey:"id",bordered:!0,dataSource:e,columns:this.columns,pagination:{size:"small",showSizeChanger:!0,showTotal:()=>`共 ${t} 项`,pageSize:a}}))}})||A;a(426);var V=a(229),G=(a(424),a(228)),H=a(432),J=a(433);const{Dragger:Q}=G.a;class W extends n.Component{constructor(...e){super(...e),this.handleBeforeUpload=e=>{const t="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e.type;return t||y.b.error("仅支持 xlsx 格式上传，请使用专用模板"),t}}render(){const{isShowFileUploadModal:e,onCancel:t,isUploading:a}=this.props;return l.a.createElement(k.a,{visible:e,title:"文件上传",footer:l.a.createElement(g.a,{type:"primary",onClick:t},"取消"),onCancel:t,width:800},l.a.createElement(g.a,{type:"primary",className:"mb15",size:"small"},"点击下载模板 ",l.a.createElement(H.a,{style:{fontSize:16}})),l.a.createElement("div",{className:"mb15"},l.a.createElement(V.a,{message:"(仅支持xlsx格式文件，请使用专用模板上传！）",type:"warning"})),l.a.createElement(Q,{action:"#",multiple:!1,showUploadList:!1,disabled:a,beforeUpload:this.handleBeforeUpload},l.a.createElement("p",{className:"ant-upload-drag-icon"},l.a.createElement(J.a,null)),l.a.createElement("p",{className:"ant-upload-text"},"点击上传或者拖拽文件上传")))}}const X=[{key:"id",title:"学号"},{key:"name",title:"姓名"},{key:"age",title:"年龄"},{key:"grade",title:"班级"},{key:"parent",title:"家长姓名"},{key:"phone",title:"联系方式"},{key:"address",title:"家庭住址"}],Y=[{id:1511516,name:"二狗",age:18,grade:"22班",phone:"1876232123",address:"广东省深圳市宝安区",parent:"大狗"},{id:111,name:"二狗",age:18,grade:"22班",phone:"1876232123",address:"广东省深圳市宝安区",parent:"大狗"},{id:112,name:"二狗",age:18,grade:"22班",phone:"1876232123",address:"广东省深圳市宝安区西乡街道",parent:"大狗"},{id:113,name:"二狗",age:18,grade:"22班",phone:"1876232123",address:"广东省深圳市宝安区",parent:"大狗"},{id:114,name:"二狗",age:18,grade:"22班",phone:"1876232123",address:"广东省深圳市宝安区",parent:"大狗"},{id:115,name:"二狗",age:18,grade:"22班",phone:"1876232123",address:"广东省深圳市宝安区",parent:"大狗"}];var Z=a(115),ee=a.n(Z);class te extends n.Component{constructor(...e){super(...e),this.formRef=l.a.createRef(),this.state={isShowAddStundetModal:!1,isShowFileUploadModal:!1,isUploading:!1,isEdit:!1,pageIndex:1,pageSize:5,total:7},this.handleAddStudnet=()=>{this.setState({isShowAddStundetModal:!0,isEdit:!1})},this.handleAddStudnetOK=()=>{this.handleFinsh()},this.handleAddStudnetCancel=()=>{const{current:{resetFields:e}}=this.formRef;this.setState({isShowAddStundetModal:!1},()=>{e()})},this.handleDelteStudent=()=>{k.a.confirm({content:"确人删除此学生信息？",onOk:()=>{y.b.success("删除成功")}})},this.handleFinsh=()=>{const{current:{validateFields:e,resetFields:t}}=this.formRef;e().then(e=>{console.log(e),t(),y.b.success("新增成功")}).catch(e=>{console.log(e)})},this.handleExportInfo=()=>{!function(e,t,a){const n=ee.a.utils.json_to_sheet(e),l=ee.a.utils.book_new();ee.a.utils.book_append_sheet(l,n,t),ee.a.writeFile(l,a,{bookType:"xlsx"})}(_.reduce(Y,(e,t)=>{const a={};return _.map(X,e=>{_.extend(a,{[e.title]:_.get(t,e.key,"-")})}),e.push(a),e},[]),"学生信息列表","学生信息列表.xlsx"),y.b.success("导出成功")},this.handleFileUpload=()=>{this.setState({isShowFileUploadModal:!0})},this.handleFileUploadCanel=()=>{this.setState({isShowFileUploadModal:!1})},this.handleEdit=e=>{this.setState({isShowAddStundetModal:!0,isEdit:!0},()=>{const{current:{setFieldsValue:t}}=this.formRef;t(e)})}}render(){const{isShowAddStundetModal:e,isShowFileUploadModal:t,total:a,pageIndex:r,pageSize:s,isUploading:o,isEdit:i}=this.state;return l.a.createElement(n.Fragment,null,l.a.createElement(S,{title:"学生管理"}),l.a.createElement(v,null,l.a.createElement("div",{className:"ma"},l.a.createElement(g.a,{type:"primary",onClick:this.handleAddStudnet,className:"mr15"},"新增学生"),l.a.createElement(g.a,{type:"primary",onClick:this.handleFileUpload,className:"mr15"},"导入数据"),l.a.createElement(g.a,{type:"primary",onClick:this.handleExportInfo},"导出数据")),l.a.createElement(L,{dataSource:Y,total:a,pageIndex:r,pageSize:s,onEdit:this.handleEdit})),l.a.createElement(j,{fromRef:this.formRef,isShowAddStundetModal:e,onOk:this.handleAddStudnetOK,onCancel:this.handleAddStudnetCancel,onFinsh:this.handleFinsh,isEdit:i}),l.a.createElement(W,{isShowFileUploadModal:t,onCancel:this.handleFileUploadCanel,isUploading:o}))}}var ae=a(226),ne=a.n(ae),le=a(434),re=a(436);class se extends n.Component{constructor(){super(),this.state={isShrink:!0},this.modules={toolbar:{container:"#toolbar",clipboard:{matchVisual:!1},handlers:{}}},this.formats=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","align","picker","icon-picke","link","image"]}componentDidMount(){this.ReactQuill=ne.a,this.forceUpdate()}customToolbar(){const{isShrink:e}=this.state,t=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"];return l.a.createElement("div",{id:"toolbar"},l.a.createElement("button",{type:"button",className:"ql-header",value:"1"}),l.a.createElement("button",{type:"button",className:"ql-header",value:"2"}),l.a.createElement("select",{className:"ql-size",defaultValue:"narmall"},l.a.createElement("option",{value:"small"},"小"),l.a.createElement("option",{value:"narmall"},"正常"),l.a.createElement("option",{value:"large"},"中"),l.a.createElement("option",{value:"huge"},"大")),l.a.createElement("button",{className:"ql-bold"}),l.a.createElement("button",{className:"ql-italic"}),l.a.createElement("button",{className:"ql-underline"}),l.a.createElement("button",{className:"ql-strike"}),l.a.createElement("select",{className:"ql-color"},_.map(t,(e,t)=>l.a.createElement("option",{key:t,value:e}))),l.a.createElement("select",{className:"ql-background ql-picker ql-color-picker"},_.map(t,(e,t)=>l.a.createElement("option",{key:t,value:e}))),l.a.createElement("button",{className:"ql-indent",value:"-1"}),l.a.createElement("button",{className:"ql-indent",value:"+1"}),l.a.createElement("button",{className:"ql-list",value:"ordered"}),l.a.createElement("button",{className:"ql-list",value:"bullet"}),l.a.createElement("select",{className:"ql-align ql-picker ql-icon-picker",defaultValue:""},l.a.createElement("option",null),l.a.createElement("option",{value:"center"}),l.a.createElement("option",{value:"right"}),l.a.createElement("option",{value:"justify"})),l.a.createElement("button",{className:"ql-link"}),l.a.createElement("button",{style:{float:"right"},onClick:()=>{this.setState({isShrink:!e})}},e?l.a.createElement(le.a,null):l.a.createElement(re.a,null)))}render(){const e=this.ReactQuill,{isShrink:t}=this.state,{content:a,onChange:r}=this.props,s=t?{width:800,height:400,marginBottom:40}:{width:"100%",height:600,marginBottom:40};return l.a.createElement(n.Fragment,null,e?l.a.createElement("div",{style:s},this.customToolbar(),l.a.createElement(e,{style:s,defaultValue:a,value:a,onChange:r,modules:this.modules,format:this.format,ref:e=>this.quill=e})):"努力加载中")}}class oe extends(null){static create(e){let t=super.create();return t.setAttribute("alt",e.alt),t.setAttribute("src",e.url),t}static value(e){return{alt:e.getAttribute("alt"),url:e.getAttribute("src")}}}oe.blotName="image",oe.tagName="img";class ie extends n.Component{constructor(...e){super(...e),this.handleEditChange=e=>{console.log(e)}}render(){return l.a.createElement(n.Fragment,null,l.a.createElement(S,{title:"成绩查询"}),l.a.createElement(v,null,l.a.createElement(M.a,{title:"活动方案"},l.a.createElement(se,{content:"",onChange:this.handleEditChange}))))}}var ce=[{path:"/student/manage/list",exact:!0,component:te},{path:"/student/personas/list",exact:!0,component:ie}],de=a(142);const me={current:1};var pe=(e=me,t)=>"CHANGEPAGE"===t.type?{...e,current:t.page}:e;var ue=Object(de.b)(pe),he=a(437),fe=a(429),Ee=[{key:"manage",title:"学生管理",icon:l.a.createElement(he.a,null),sub:[{key:"list",title:"学生列表",link:"/student/manage/list"}]},{key:"personas",title:"成绩查询",icon:l.a.createElement(fe.a,null),sub:[{key:"userinfo",title:"用户信息查询",link:"/student/personas/list"}]}];class be extends n.Component{render(){return l.a.createElement(z.a,{store:ue},l.a.createElement(b,{routers:ce,menus:Ee}))}}class ge extends n.Component{render(){return l.a.createElement("div",null,"123")}}class ye extends n.Component{render(){return l.a.createElement("div",null,"资料管理")}}var ke=[{path:"/student/manage/list",exact:!0,component:be},{path:"/student/*",exact:!0,component:be},{path:"/approval/list",exact:!0,component:ge},{path:"/material/list",exact:!0,component:ye}];class ve extends n.Component{render(){return l.a.createElement(n.Fragment,null,l.a.createElement("header",null,l.a.createElement(d.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["1"],style:{lineHeight:"50px"}},_.map(m,e=>l.a.createElement(d.a.Item,{key:e.key},l.a.createElement(o.b,{to:e.path},e.title))))),l.a.createElement("main",null,l.a.createElement(c,{routers:ke})))}}var xe=a(439);function Se(){return(Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const{Item:we}=N.a,Ce={labelCol:{span:6},wrapperCol:{span:18}},Ne={wrapperCol:{offset:2,span:22}};class qe extends n.Component{constructor(...e){super(...e),this.state={isDisabled:!1},this.handleLoginSumit=e=>{const{history:t}=this.props;this.setState({isDisabled:!0}),setTimeout(()=>{y.b.success("登入成功"),this.setState({isDisabled:!1}),setTimeout(()=>{t.push("/student")},1e3)},200)}}render(){const{isDisabled:e}=this.state;return l.a.createElement("div",{className:"form-login"},l.a.createElement(N.a,Se({},Ce,{name:"basic",onFinish:this.handleLoginSumit}),l.a.createElement(we,{label:"用户名",name:"username",rules:[{required:!0,message:"请输入用户名"}]},l.a.createElement(C.a,{prefix:l.a.createElement(xe.a,{className:"site-form-item-icon"})})),l.a.createElement(we,{label:"密 码",name:"password",rules:[{required:!0,message:"请输入密码"}]},l.a.createElement(C.a,{prefix:l.a.createElement(fe.a,{className:"site-form-item-icon"})})),l.a.createElement(we,Ne,l.a.createElement(g.a,{type:"primary",htmlType:"submit",block:!0,disabled:e},"登入")),l.a.createElement(we,Ne,l.a.createElement("span",{className:"login-tip"},"还没有账号，点击",l.a.createElement(o.b,{to:"/register"},"注册")))))}}var Oe=a(440);function Fe(){return(Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}const{Item:je}=N.a,_e={labelCol:{span:6},wrapperCol:{span:18}},Ae={wrapperCol:{offset:2,span:22}};class Me extends n.Component{constructor(...e){super(...e),this.state={isDisabled:!1},this.handleLoginSumit=e=>{const{history:t}=this.props;this.setState({isDisabled:!0}),setTimeout(()=>{y.b.success("登入成功"),this.setState({isDisabled:!1}),setTimeout(()=>{t.push("/student")},1e3)},200)}}render(){const{isDisabled:e}=this.state;return l.a.createElement("div",{className:"form-login"},l.a.createElement(N.a,Fe({},_e,{name:"basic",onFinish:this.handleLoginSumit}),l.a.createElement(je,{label:"用户名",name:"username",rules:[{required:!0,message:"请输入用户名"}]},l.a.createElement(C.a,{prefix:l.a.createElement(xe.a,{className:"site-form-item-icon"})})),l.a.createElement(je,{label:"手 机",name:"phone",validateTrigger:"onBlur",rules:[{required:!0,message:"请输入手机号码"},{pattern:/^1[3456789]\d{9}$/,message:"手机号码有误，请重新输入"}]},l.a.createElement(C.a,{prefix:l.a.createElement(Oe.a,{className:"site-form-item-icon"})})),l.a.createElement(je,{label:"密 码",name:"password",rules:[{required:!0,message:"请输入密码"}]},l.a.createElement(C.a,{prefix:l.a.createElement(fe.a,{className:"site-form-item-icon"})})),l.a.createElement(je,Ae,l.a.createElement(g.a,{type:"primary",htmlType:"submit",block:!0,disabled:e},"注册")),l.a.createElement(je,Ae,l.a.createElement("span",{className:"login-tip"},"已有账号，点击",l.a.createElement(o.b,{to:"/login"},"登入")))))}}var Ue=[{path:"/student/*",exact:!0,component:ve},{path:"/approval/*",exact:!0,component:ve},{path:"/material/*",exact:!0,component:ve},{path:"/login",exact:!0,component:qe},{path:"/register",exact:!0,component:Me}];class Ie extends n.Component{render(){return l.a.createElement(o.a,null,l.a.createElement(c,{routers:Ue},l.a.createElement(i.a,{to:"/student/manage/list"})))}}console.log("production"),s.a.render(l.a.createElement(Ie,null),document.getElementById("app"))}})}));